---
title: 'Como Funciona a IA'
description: 'Entenda a tecnologia por tr√°s do agente inteligente do Integrabot e como ele processa e responde mensagens'
---

## Vis√£o Geral

O agente de IA do Integrabot utiliza tecnologias avan√ßadas de **Processamento de Linguagem Natural (NLP)** e **Intelig√™ncia Artificial Generativa** para entender e responder seus clientes de forma natural e contextual.

<Info>
  O Integrabot utiliza modelos de linguagem de √∫ltima gera√ß√£o, similar ao ChatGPT, mas especializado e treinado com as informa√ß√µes do seu neg√≥cio.
</Info>

## Arquitetura do Sistema

```mermaid
graph TD
    Cliente[Cliente no WhatsApp] --> |1_Mensagem| Webhook[Webhook Integrabot]
    Webhook --> |2_Processa| Pipeline[Pipeline de IA]
    Pipeline --> |3_Analisa| NLU[Compreens√£o de Linguagem]
    NLU --> |4_Busca| RAG[Sistema RAG]
    RAG --> |5_Consulta| VectorDB[(Base de Conhecimento Vetorizada)]
    VectorDB --> |6_Retorna_Contexto| RAG
    RAG --> |7_Monta_Prompt| LLM[Modelo de Linguagem]
    LLM --> |8_Gera_Resposta| Resposta[Resposta Final]
    Resposta --> |9_Envia| WhatsApp[WhatsApp API]
    WhatsApp --> |10_Entrega| Cliente
```

## Etapas do Processamento

### 1. Recep√ß√£o da Mensagem

Quando um cliente envia uma mensagem:

<Steps>
  <Step title="Cliente Envia">
    Mensagem via WhatsApp
  </Step>
  
  <Step title="WhatsApp API">
    Recebe e encaminha via webhook
  </Step>
  
  <Step title="Integrabot Captura">
    Sistema recebe instantaneamente
  </Step>
  
  <Step title="Fila de Processamento">
    Mensagem entra na fila para processamento
  </Step>
</Steps>

<Tip>
  **Tempo m√©dio:** < 1 segundo entre envio e in√≠cio do processamento
</Tip>

### 2. An√°lise de Inten√ß√£o (NLU)

O sistema analisa a mensagem para entender **o que o cliente quer**.

<Accordion title="T√©cnicas Utilizadas">
  **An√°lise de Sentimento:**
  - Positivo üòä
  - Neutro üòê
  - Negativo üòû
  
  **Classifica√ß√£o de Inten√ß√£o:**
  - Pergunta sobre produto/servi√ßo
  - Solicita√ß√£o de agendamento
  - Reclama√ß√£o
  - Pedido de informa√ß√£o
  - Sauda√ß√£o/despedida
  
  **Extra√ß√£o de Entidades:**
  - Nomes de produtos
  - Datas
  - Valores
  - Localiza√ß√µes
  - Prefer√™ncias
</Accordion>

**Exemplo:**

```
Cliente: "Gostaria de agendar uma consulta para ter√ßa que vem"

An√°lise:
- Inten√ß√£o: Agendamento
- Sentimento: Positivo
- Entidades: 
  - A√ß√£o: "agendar"
  - Tipo: "consulta"
  - Data: "ter√ßa pr√≥xima" ‚Üí 2025-01-14
```

### 3. Busca de Conhecimento (RAG)

**RAG** significa **Retrieval Augmented Generation** (Gera√ß√£o Aumentada por Recupera√ß√£o).

<Tabs>
  <Tab title="O que √© RAG?">
    RAG √© uma t√©cnica que combina:
    
    1. **Recupera√ß√£o** de informa√ß√µes relevantes da base de conhecimento
    2. **Gera√ß√£o** de resposta usando essas informa√ß√µes como contexto
    
    **Por que usar RAG?**
    - ‚úÖ Respostas baseadas em fatos reais
    - ‚úÖ Informa√ß√µes sempre atualizadas
    - ‚úÖ Reduz "alucina√ß√µes" da IA
    - ‚úÖ Mant√©m consist√™ncia
  </Tab>
  
  <Tab title="Como Funciona?">
    **Processo:**
    
    <Steps>
      <Step title="Pergunta √© Vetorizada">
        Mensagem √© convertida em vetor matem√°tico (embedding)
      </Step>
      
      <Step title="Busca por Similaridade">
        Sistema busca vetores similares na base de conhecimento
      </Step>
      
      <Step title="Top K Resultados">
        Retorna os 3-5 documentos mais relevantes
      </Step>
      
      <Step title="Contexto √© Montado">
        Documentos s√£o organizados como contexto para o LLM
      </Step>
    </Steps>
    
    **Exemplo:**
    
    ```
    Pergunta: "Quanto custa o clareamento?"
    
    Vetor da pergunta: [0.23, -0.15, 0.87, ...]
    
    Busca na base encontra:
    1. Documento "Pre√ßos de Clareamento" (similaridade: 0.92)
    2. Documento "Tipos de Clareamento" (similaridade: 0.85)
    3. Documento "FAQ Clareamento" (similaridade: 0.78)
    
    Esses documentos s√£o enviados como contexto para o LLM
    ```
  </Step>
  
  <Tab title="Vetoriza√ß√£o">
    ### O que s√£o Vetores (Embeddings)?
    
    Vetores s√£o representa√ß√µes matem√°ticas de texto que capturam **significado sem√¢ntico**.
    
    **Exemplo simplificado:**
    
    ```
    "cachorro" ‚Üí [0.8, 0.2, 0.1, 0.9, ...]
    "c√£o"      ‚Üí [0.8, 0.2, 0.1, 0.9, ...] (similar!)
    "gato"     ‚Üí [0.7, 0.3, 0.2, 0.8, ...] (pr√≥ximo)
    "carro"    ‚Üí [0.1, 0.9, 0.8, 0.2, ...] (distante)
    ```
    
    Textos com significado similar t√™m vetores pr√≥ximos no espa√ßo matem√°tico.
    
    **No Integrabot:**
    - Cada documento da base √© vetorizado
    - Mensagens do cliente s√£o vetorizadas
    - Busca por similaridade √© extremamente r√°pida
    - Funciona em qualquer idioma
  </Tab>
</Tabs>

### 4. Gera√ß√£o de Resposta (LLM)

Com contexto e inten√ß√£o identificados, o **Modelo de Linguagem (LLM)** gera a resposta.

<AccordionGroup>
  <Accordion title="O que √© LLM?" icon="brain">
    **Large Language Model** (Modelo de Linguagem Grande)
    
    √â uma rede neural treinada em bilh√µes de textos que:
    - Entende linguagem natural
    - Gera texto coerente e contextual
    - Mant√©m conversa fluente
    - Adapta tom e estilo
    
    **Modelos que usamos:**
    - GPT-4 (OpenAI) - padr√£o
    - Claude (Anthropic) - opcional
    - Llama 3 (Meta) - opcional
  </Accordion>
  
  <Accordion title="Como LLM Usa Contexto?" icon="puzzle">
    O LLM recebe um "prompt" estruturado:
    
    ```
    SISTEMA:
    Voc√™ √© um assistente virtual da Cl√≠nica Odontol√≥gica XYZ.
    Seja cordial, profissional e emp√°tico.
    
    INSTRU√á√ïES:
    - Sempre pergunte o nome do paciente
    - Ofere√ßa agendamento de avalia√ß√£o gratuita
    - N√£o diagnostique problemas m√©dicos
    
    CONHECIMENTO RELEVANTE:
    [Documento 1: Pre√ßos de Clareamento]
    Clareamento a Laser: R$ 800
    Clareamento Caseiro: R$ 450
    
    [Documento 2: Procedimentos]
    Avalia√ß√£o inicial gratuita...
    
    CONVERSA ANTERIOR:
    Cliente: Ol√°
    Voc√™: Ol√°! Seja bem-vindo √† Cl√≠nica XYZ! Qual √© seu nome?
    Cliente: Jo√£o
    Voc√™: Prazer, Jo√£o! Como posso te ajudar hoje?
    
    MENSAGEM ATUAL:
    Cliente: Quanto custa o clareamento?
    
    RESPONDA DE FORMA NATURAL E √öTIL:
    ```
    
    LLM processa tudo isso e gera resposta apropriada.
  </Accordion>
  
  <Accordion title="Par√¢metros de Gera√ß√£o" icon="sliders">
    ### Temperatura
    
    Controla criatividade vs consist√™ncia:
    
    - **0.1:** Muito consistente, pouca varia√ß√£o
    - **0.3:** Equilibrado (padr√£o)
    - **0.7:** Mais criativo e variado
    
    ### Top P
    
    Controla diversidade de vocabul√°rio (padr√£o: 0.9)
    
    ### Max Tokens
    
    Tamanho m√°ximo da resposta (padr√£o: 500 tokens ‚âà 375 palavras)
    
    ### Presence Penalty
    
    Reduz repeti√ß√£o (padr√£o: 0.6)
  </Accordion>
</AccordionGroup>

### 5. P√≥s-processamento

Antes de enviar, a resposta passa por valida√ß√µes:

<Check>
  **Verifica√ß√µes:**
  - ‚úÖ Resposta √© relevante √† pergunta?
  - ‚úÖ N√£o cont√©m informa√ß√µes sens√≠veis?
  - ‚úÖ Est√° dentro do limite de caracteres do WhatsApp?
  - ‚úÖ Tom est√° adequado?
  - ‚úÖ Cont√©m call-to-action apropriado?
</Check>

**Exemplo de ajuste:**

```
Resposta original (muito longa):
"O clareamento dental √© um procedimento odontol√≥gico est√©tico que tem como objetivo clarear os dentes, removendo manchas e deixando-os mais brancos. Oferecemos duas op√ß√µes: clareamento a laser, que √© feito em consult√≥rio e custa R$ 800, com resultado imediato, e o clareamento caseiro, que custa R$ 450 e voc√™ faz em casa com moldeiras durante 3 semanas..."

Resposta otimizada:
"Oferecemos duas op√ß√µes de clareamento:

ü¶∑ Laser (consult√≥rio): R$ 800 - resultado imediato
üè† Caseiro: R$ 450 - 3 semanas de tratamento

A primeira consulta de avalia√ß√£o √© gratuita! Posso agendar para voc√™?"
```

### 6. Envio e Acompanhamento

<Steps>
  <Step title="Envio via API">
    Resposta √© enviada pela WhatsApp Business API
  </Step>
  
  <Step title="Confirma√ß√£o de Entrega">
    Sistema recebe confirma√ß√£o de entrega
  </Step>
  
  <Step title="Leitura">
    Quando cliente l√™, status √© atualizado
  </Step>
  
  <Step title="Pr√≥xima Intera√ß√£o">
    Conversa permanece em contexto para continuidade
  </Step>
</Steps>

## Mem√≥ria e Contexto

O agente mant√©m **mem√≥ria de curto prazo** da conversa:

<Tabs>
  <Tab title="Mem√≥ria da Conversa">
    **Mant√©m:**
    - √öltimas 10-15 mensagens
    - Nome do cliente
    - Prefer√™ncias mencionadas
    - Estado da conversa
    
    **Permite:**
    - Respostas contextuais
    - Evitar perguntas repetidas
    - Continuidade natural
    
    **Exemplo:**
    ```
    Cliente: Qual o hor√°rio de voc√™s?
    Agente: Funcionamos de segunda a sexta, 9h √†s 18h.
    
    Cliente: E no s√°bado?
    Agente: Aos s√°bados abrimos das 9h √†s 13h.
    
    Cliente: Posso ir amanh√£?
    Agente: Sim! Amanh√£ √© [dia]. Prefere manh√£ ou tarde?
    ```
    (Agente lembra contexto de hor√°rios e conecta informa√ß√µes)
  </Tab>
  
  <Tab title="Mem√≥ria de Longo Prazo">
    **Armazenado no CRM:**
    - Hist√≥rico completo de conversas
    - Prefer√™ncias do cliente
    - Compras anteriores
    - Tags e classifica√ß√µes
    
    **Recuperado quando necess√°rio:**
    ```
    Cliente retorna ap√≥s 1 m√™s:
    "Ol√° novamente!"
    
    Agente reconhece:
    "Ol√° Jo√£o! Que bom te ver de novo! 
    Como foi a consulta de ortodontia que agendamos m√™s passado?"
    ```
  </Tab>
</Tabs>

## Ferramentas e A√ß√µes

Al√©m de conversar, o agente pode **executar a√ß√µes**:

```mermaid
graph LR
    Agente[Agente IA] --> Decidir{Precisa de Ferramenta?}
    Decidir -->|N√£o| Responder[Responder Direto]
    Decidir -->|Sim| Escolher[Escolher Ferramenta]
    Escolher --> Executar[Executar A√ß√£o]
    Executar --> Processar[Processar Resultado]
    Processar --> Responder
```

**Exemplo com ferramenta:**

```
Cliente: "Tem essa camisa em estoque?"

Agente (internamente):
1. Identifica: Preciso consultar estoque
2. Chama ferramenta: consultar_estoque("camisa-azul-M")
3. Recebe: { disponivel: true, quantidade: 5 }
4. Gera resposta: "Sim! Temos 5 unidades dispon√≠veis da camisa azul M."
```

Veja mais em [Guia de Ferramentas](/pt/guias/ferramentas-ia).

## Limita√ß√µes da IA

<Warning>
  √â importante entender o que a IA **n√£o pode** fazer:
</Warning>

<AccordionGroup>
  <Accordion title="N√£o tem Acesso a Informa√ß√µes Externas" icon="globe">
    A IA s√≥ conhece o que est√° na base de conhecimento.
    
    **N√£o pode:**
    - Acessar websites em tempo real
    - Buscar no Google
    - Ver emails ou sistemas externos
    
    **Solu√ß√£o:** Use ferramentas customizadas para integrar sistemas.
  </Accordion>
  
  <Accordion title="Pode 'Alucinar'" icon="sparkles">
    √Äs vezes inventa informa√ß√µes quando n√£o sabe.
    
    **Como minimizar:**
    - Base de conhecimento completa
    - Instru√ß√µes claras para "n√£o sabe"
    - Monitoramento regular
    - Revis√£o de conversas
  </Accordion>
  
  <Accordion title="N√£o Entende Nuances Complexas" icon="question">
    Sarcasmo, ironias e contextos muito espec√≠ficos podem confundir.
    
    **Como lidar:**
    - Configure transfer√™ncia para humano em casos complexos
    - Treine com exemplos espec√≠ficos
    - Monitore e ajuste
  </Accordion>
  
  <Accordion title="Requer Conhecimento Atualizado" icon="clock">
    Informa√ß√µes desatualizadas geram respostas erradas.
    
    **Solu√ß√£o:**
    - Atualize base de conhecimento regularmente
    - Configure alertas para revisar periodicamente
    - Use ferramentas para dados din√¢micos
  </Accordion>
</AccordionGroup>

## Seguran√ßa e Privacidade

<CardGroup cols={2}>
  <Card title="Criptografia" icon="lock">
    Todas as mensagens s√£o criptografadas end-to-end pelo WhatsApp
  </Card>
  <Card title="LGPD Compliant" icon="shield-check">
    Sistema em conformidade com LGPD brasileira
  </Card>
  <Card title="Dados Isolados" icon="database">
    Cada workspace tem dados completamente isolados
  </Card>
  <Card title="N√£o Treina com Seus Dados" icon="ban">
    Suas conversas n√£o s√£o usadas para treinar modelos p√∫blicos
  </Card>
</CardGroup>

## Melhorando a Performance

<Steps>
  <Step title="Base de Conhecimento Completa">
    Quanto mais informa√ß√£o relevante, melhores as respostas
  </Step>
  
  <Step title="Instru√ß√µes Claras">
    Defina bem o comportamento esperado em [Meu Agente](/pt/guias/configurar-agente)
  </Step>
  
  <Step title="Exemplos de Conversas">
    Inclua exemplos na base de conhecimento de como responder certas situa√ß√µes
  </Step>
  
  <Step title="Monitore e Ajuste">
    Revise conversas regularmente e ajuste configura√ß√µes
  </Step>
  
  <Step title="Use Ferramentas">
    Para dados din√¢micos, use [ferramentas customizadas](/pt/guias/ferramentas-ia)
  </Step>
</Steps>

## Tecnologias Utilizadas

<Accordion title="Stack Tecnol√≥gica">
  **Processamento de Linguagem:**
  - OpenAI GPT-4
  - Anthropic Claude 3
  - Meta Llama 3
  
  **Vetoriza√ß√£o:**
  - OpenAI text-embedding-3
  - Sentence Transformers
  
  **Banco Vetorial:**
  - Pinecone
  - Qdrant
  
  **Infraestrutura:**
  - AWS Lambda (serverless)
  - PostgreSQL (dados estruturados)
  - Redis (cache e filas)
  
  **APIs:**
  - WhatsApp Business API
  - Evolution API (opcional)
</Accordion>

## Compara√ß√£o: Com vs Sem IA

<Tabs>
  <Tab title="Sem IA (Manual)">
    **Limita√ß√µes:**
    - ‚è∞ Apenas em hor√°rio comercial
    - üë§ Um atendente = uma conversa
    - üò¥ Qualidade varia com cansa√ßo
    - üìà N√£o escala facilmente
    - üí∞ Custo por atendente
    - ‚è±Ô∏è Tempo de resposta vari√°vel
  </Tab>
  
  <Tab title="Com IA (Integrabot)">
    **Benef√≠cios:**
    - üåô 24/7 sem pausa
    - ‚ö° Milhares de conversas simult√¢neas
    - üéØ Qualidade consistente
    - üìä Escala infinitamente
    - üí∏ Custo fixo
    - ‚ö° Resposta instant√¢nea
    - üß† Aprende com feedback
  </Tab>
</Tabs>

## Pr√≥ximos Passos

<CardGroup cols={2}>
  <Card
    title="Configurar Agente"
    icon="robot"
    href="/pt/guias/configurar-agente"
  >
    Otimize as configura√ß√µes do seu agente
  </Card>
  <Card
    title="Base de Conhecimento"
    icon="book"
    href="/pt/conceitos/base-conhecimento"
  >
    Entenda mais sobre vetoriza√ß√£o e RAG
  </Card>
  <Card
    title="Ferramentas IA"
    icon="wrench"
    href="/pt/guias/ferramentas-ia"
  >
    Expanda capacidades com ferramentas
  </Card>
  <Card
    title="Integra√ß√µes"
    icon="plug"
    href="/pt/conceitos/integracoes"
  >
    Conecte com outros sistemas
  </Card>
</CardGroup>

